# WEB-module

## Изменения средней важности
- **[Users]** В каталоге `/src/js/users/` необходимо добавить js-файл с методом `users.afterShowData`
  ```javascript
  /**
   * Функция обратного вызова после отображения списка пользователей
   *
   * @param {Object} data
   *
   * @author  Дмитрий Щербаков <atomcms@ya.ru>
   *
   * @version 17.04.2020
   */
  users.afterShowData = function (data) {

  };
  ```
- **[Users]** В файле `/src/html/pages/users/content.html`
  - добавить в блок `ul#js-tabs__links` новый элемент
    ```html
    <li class="nav-item">
        <a href="#tab-auth-keys" class="nav-link" data-toggle="tab" data-target="#tab-auth-keys">
            <i class="fas fa-key"></i> Ключи доступа
        </a>
    </li>
    ```
  - добавить в блок `div#js-tabs__contents` новый элемент
    ```html
    <div class="tab-pane" id="tab-auth-keys" role="tabpanel">
        <!-- include "users/auth_keys.html" -->
    </div>
    ```
  - Скачать файлы [auth_keys.html](https://github.com/Lemurro/client-metronic/blob/v1.9.0/src/html/pages/users/auth_keys.html) и  [tpl_auth_keys__items.html](https://github.com/Lemurro/client-metronic/blob/v1.9.0/src/html/pages/users/tpl_auth_keys__items.html) и поместить в каталог `/src/html/pages/users`.
- **[JS-библиотки]** Если вы использовали создание нового экземпляра через `new LightAjax` тогда вам необходимо знать об изменениях
  - Вместо параметра `settings.color` теперь необязательный параметр `settings.classColor`, чтобы избежать проблем с Content Security Policy, можно не указывать, тогда будет использоваться класс по умолчанию.
  - Параметр `callbackAlert` помещён внутрь `settings`: `settings.callbackAlert`.
  - Исправлена ошибка когда жёстко менялись настройки в jQuery.ajaxSetup, теперь настройки по умолчанию работают только внутри LightAjax.