> **Lemurro 0.x.x**

# Новый раздел

## HTML
1. В каталоге `app/Pages` создаём новый каталог для раздела (с большой буквы), например `Example`
2. Создаём один обязательный файл `app/Pages/Example/view_index.php`
3. Минимально необходимая структура файла
 ```html
 <div id="js-page" data-page="example">
     <!-- Здесь будет контент вашей страницы -->
 </div>
 ```

*\* дополнительно можете создавать неограниченное количество других файлов, для разделения кода на отдельные модули*

## Маршрут
Создаём маршрут в файле `app/routes.yaml`
```yaml
example:
  path: /example
  controller: 'Pages/Example/view_index.php'
  defaults: { _page_type: 'internal' }
  methods: [GET]
```

## JS
1. Создаём новый каталог в `src/js`
   - Cмотрите на префикс в названии каталога, чтобы новый раздел был ниже 0-app и 0-users
   - Цифрами настраивается порядок следования в собранном едином файле `app.min.js`
2. Создаём один обязательный файл `src/js/1-example/0-init.js`
3. Минимально необходимая структура файла это глобальная переменная раздела `var example = {};`

В файле `src/js/1-example/0-init.js` может быть *(не обязательно)* функция, которая будет вызвана после загрузки раздела
```javascript
example.init = function () {
};
```

Дальше вы в этом каталоге создаёте любые необходимые файлы для ваших функций (1 файл = 1 функция)

Функции называющиеся с `_` считаются приватными и вызываются только внутри js-кода этого раздела

Функции без этого префикса могут вызываться из html (onclick и т.д.) или из других разделов

## CSS
Если вашему разделу необходим уникальный css, тогда создавайте отдельный файл в каталоге `src/css`

## Права доступа
Для указания прав доступа на ваш раздел откройте файл `app/Configs/SettingsUserRoles.php`

В `const LIST` добавляйте массив с названием вашего раздела и доступными правами
```php
'example' => [
    'read',
    'create-update',
    'delete',
],
```

Рекомендуется всегда оставлять эти три права доступа, они везде используются

Также вы можете добавить любые свои права, которые затем будете использовать в API вашего раздела

- `const GUIDE_PAGES` - справочник названий ролей *(необходимо для раздела “Пользователи”, чтобы показать галочки выбора прав)*
- `const GUIDE_ACCESS` - справочник названий доступов *(необходимо для раздела “Пользователи”, чтобы показать галочки выбора прав)*