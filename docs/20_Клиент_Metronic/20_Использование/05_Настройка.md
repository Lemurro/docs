# Логика запуска приложения

В файле `/app/Views/block_foot.php` внизу есть код
```javascript
$(function () {
    lemurro.init({
        onLoad: app.init
    });
});
```

### Список параметров

#### onLoad *(callback)*
Выполняет переданную функцию после загрузки приложения, перед загрузкой кода страницы (на которой мы находимся)

В вызывающую функцию передается всего один параметр `data`, который хранит в себе всю информацию о пользователе, под которым открыта страница

# Логика запуска ядра
1. Подключается сборщик ошибок js (SettingsGeneral::LOGS_PATH/jserrors.log)
2. Инициализируется плагин LightAjax
3. Подключается русификатор для Select2
4. Достаётся из локального хранилища ИД сессии, если есть продолжается, если нет открывается форма входа
5. Запускается проверка сессии
6. Если сессия валидна запускается инициализация страницы, иначе открывается форма входа
7. Получается информация о пользователе и исходя из прав доступа настраивается показ пунктов меню
8. Запускается функция переданная в настройках ядра `{onLoad: app.init}`
9. В DOM находится `div` всей страницы `<div id="js-page" data-page="example"></div>`
10. Находится идентификатор страницы из атрибута `data-page`
11. Если есть такая переменная в `window` и у неё есть метод `init` тогда вызывается эта функция `example.init();`