> **v1.0.0**

# Новый раздел
На примере раздела `Example`

## HTML
1. В каталоге `/src/html/pages` создаём файл раздела `example.html`, при запуске раздела, содержимое этого файла будет помещено в элемент `js-page`:
  ```html
  <div id="js-page" class="...">
          <!-- Основное содержимое страницы -->
  </div>
  ```
2. При необходимости можно создать здесь же каталог `example` и разместить в нём дополнительные html-файлы с различными кусками кода
3. Для внедрения кусков кода используется gulp-плагин [gulp-x-includer](https://github.com/pandao/gulp-x-includer)
  - HTML: `<!-- include "path/to/xxx.html" -->`
  - JavaScript: `// include "path/to/xxx.js"`
  - CSS: `/* include "path/to/xxx.css" */`
  - Другие файлы: `# include "path/to/test.txt"`

## JS
1. Создаём новый каталог в `/src/js`
   - Cмотрите на префикс в названии каталога, чтобы новый раздел был ниже `0-app`
   - Цифрами настраивается порядок следования в собранном едином файле `app.min.js`
2. Создаём один обязательный файл `0-start.js` с содержимым:
  ```javascript
  /**
   * Объект страницы: Example
   *
   * @type {object}
   */
  var example = {};
  ```
3. Дальше вы в каталоге `/src/js/example` создаёте любые необходимые файлы для ваших функций (1 файл = 1 функция)
  - Функции называющиеся с `_` считаются приватными и вызываются только внутри js-кода этого раздела
  - Функции без этого префикса могут вызываться из html (onclick и т.д.) или из других модулей

## CSS
Если вашему разделу необходим уникальный css, тогда создавайте отдельный файл в каталоге `src/css`

## Маршрут
1. Создаём маршрут в файле `/src/js/0-app/20-routes.js`
2. В параметре `app.routes.pages` в блоке "Пользовательские маршруты" добавляем новую запись:
  ```javascript
  'example': function () {
      app.page = {
          name  : 'example',
          title : 'Пример',
          onLoad: function () {
              example.init();
          },
          params: {}
      };
  },
  ```
3. В начале определяется точка маршрута, при которой откроется данный раздел: `example` (http://site.tld/example)
4. Затем указываются параметры раздела
  - `name` - кодовое имя раздела, это название файла `/src/html/pages/example.html`
  - `title` - заголовок раздела, в итоге он сформируется в заголовок `app.page.title + ' | ' + app.config.title`
  - `onLoad` - функция, которая вызывается после успешной загрузки html-кода раздела
  - `params` - см. п.5
5. Если в определении маршрута используются выражения, тогда можно в функцию маршрута передать параметр `params`
  ```javascript
  'example/:extra/:params': function (params) {
      app.page = {
          name  : 'example',
          title : 'Пример',
          onLoad: function () {
              example.init();
          },
          params: params
      };
  },
  ```
  В этом случае в переменной `params` будет объект `{extra: 'value1', params: 'value2'}`

## Права доступа
Подробнее про права доступа написано [здесь](45_Права_доступа.md)