> **v1.0.0**

# Настройка
1. Если у вас Apache, то все необходимые заголовки уже настроены в файле `/.htaccess`, если у вас nginx тогда поместите в директиву `server` код, указанный ниже:
  ```nginx
location / {
  if (!-e $request_filename){
    charset utf-8;

    add_header X-XSS-Protection "1; mode=block";
    add_header X-Content-Type-Options "nosniff";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header Referrer-Policy "no-referrer";

    rewrite ^(.*)$ /index.html break;
  }
}
```
2. Определяем параметры проекта: `/src/js/0-app/10-config.js`
3. В файле `/src/html/include/css.html` подключаем необходимый шаблон Metronic, по умолчанию подключен шаблон `Demo5`
  - `<!-- Metronic 5: CSS Here -->`
4. В файле `/src/html/include/js.html` подключаем необходимый шаблон Metronic, по умолчанию подключен шаблон `Demo5`
  - `<!-- Metronic 5: JS Here -->`
5. Запускаем в браузере url-путь до файла: `/build/index.html`
6. При аутентификации локально (в файле `api/app/Configs/SettingsGeneral.php` параметр `PRODUCTION` установлен в `false`) код для входа приходит вместе с ответом и отображается в консоли разработчика (F12)
  - `0000 "AuthCode"`

## Логика запуска приложения
1. Стартует код
  ```javascript
$(function () {
    lemurro.start();
});
```
2. Инициализируется роутер
3. Подключаются маршруты из конфига
4. Запускается роутер и отрабатывается маршрут
5. Если это не первый запуск приложения, а просто переход из раздела в раздел, тогда продолжаем с шага №15
6. Инициализируется ядро `lemurro.init();`
  - lemurro.sessionID
  - lemurro.userinfo
  - lemurro.lightajax
7. Подключается сборщик ошибок js
8. Инициализируется форма входа в зависимости от настроек
9. Достаётся из локального хранилища ИД сессии, если есть продолжаем, иначе открывается форма входа
  - Заполняется переменная `lemurro.sessionID`
10. Достаётся из локального хранилища ИД прошлой сессии, если есть показываем кнопку `Вернуться` в верхнем меню пользователя
11. Запускается проверка сессии, если успешно выполнено продолжаем, иначе открывается форма входа
12. Запускается получение информации о пользователе, если успешно выполнено продолжаем, иначе открывается форма входа
  - Заполняется переменная `lemurro.userinfo`
13. Исходя из прав доступа пользователя настраивается показ элементов (пунктов меню и т.п.)
14. Приложение успешно стартовало:
  - Устанавливается `app.started = true;`
  - Скрывается более ненужный оверлей прелоадера
  - Выполняется `app.init();`
15. Загружается страница определённая маршрутизатором `lemurro._loadPage();`
  - Устанавливается `title`
  - Сбрасывается активность со всех ссылок `.js-link` в шапке `header`
  - Устанавливается активность ссылок `.js-link` в шапке `header` в зависимости от раздела который открылся
  - Обновляются ссылки на странице с атрибутом `data-navigo`
  - Подключается `Select2` для всех классов `.js-select2` на странице `#js-page`
  - Подключается `jQuery.TableFilter` для всех классов `.tablefilter` на странице `#js-page`
  - Если в `window` есть переменная определённая в `app.page.js` и у неё есть метод `init`, тогда вызывается эта функция, например: `example.init();`