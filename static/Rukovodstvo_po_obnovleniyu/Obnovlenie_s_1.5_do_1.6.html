<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <title>Обновление с 1.5 до 1.6 - Lemurro - Документация</title>
    <meta name="description" content="My Stylish Documentation">
    <meta name="author" content="Dmitrii Shcherbakov">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="icon" href="../themes/daux/img/favicon-blue.png" type="image/x-icon">

    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    
    <!-- CSS -->
    <link href='../themes/daux/css/theme-blue.min.css' rel='stylesheet' type='text/css'>
            <!-- Tipue Search -->
        <link href="../tipuesearch/tipuesearch.css" rel="stylesheet">
    
    <!--[if lt IE 9]>
    <script src="../themes/daux/js/html5shiv-3.7.3.min.js"></script>
    <![endif]-->
</head>
<body class=" ">
    <div class="Columns content">
    <aside class="Columns__left Collapsible">
        <button type="button" class="Button Collapsible__trigger">
            <span class="Collapsible__trigger__bar"></span>
            <span class="Collapsible__trigger__bar"></span>
            <span class="Collapsible__trigger__bar"></span>
        </button>

        <a class="Brand" href="../Roadmap.html">Lemurro - Документация</a>

    <div class="Search">
        <svg class="Search__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451 451">
            <path d="M447.05 428l-109.6-109.6c29.4-33.8 47.2-77.9 47.2-126.1C384.65 86.2 298.35 0 192.35 0 86.25 0 .05 86.3.05 192.3s86.3 192.3 192.3 192.3c48.2 0 92.3-17.8 126.1-47.2L428.05 447c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.2-5.2 5.2-13.8 0-19zM26.95 192.3c0-91.2 74.2-165.3 165.3-165.3 91.2 0 165.3 74.2 165.3 165.3s-74.1 165.4-165.3 165.4c-91.1 0-165.3-74.2-165.3-165.4z"/>
        </svg>
        <input type="search" id="tipue_search_input" class="Search__field" placeholder="Search..." autocomplete="on"
               results=25 autosave=text_search>
    </div>

        <div class="Collapsible__content">
            <!-- Navigation -->
            <ul class='Nav'><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>latest</a><ul class='Nav'><li class='Nav__item '><a href="../latest/Vvedenie.html">Введение</a></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>API-Сервер (api)</a><ul class='Nav'><li class='Nav__item '><a href="../latest/API_Server_(api)/Opisanie.html">Описание</a></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Настройка</a><ul class='Nav'><li class='Nav__item '><a href="../latest/API_Server_(api)/Nastroyka/Nastroyka.html">Настройка</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Настройки по умолчанию</a><ul class='Nav'><li class='Nav__item '><a href="../latest/API_Server_(api)/Nastroyki_po_umolchaniyu/DIC.html">DIC</a></li><li class='Nav__item '><a href="../latest/API_Server_(api)/Nastroyki_po_umolchaniyu/Response.html">Response</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Расширение функционала</a><ul class='Nav'><li class='Nav__item '><a href="../latest/API_Server_(api)/Rasshirenie_funktsionala/Rasshirenie_DIC.html">Расширение DIC</a></li><li class='Nav__item '><a href="../latest/API_Server_(api)/Rasshirenie_funktsionala/Rasshirenie_Response.html">Расширение Response</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Использование</a><ul class='Nav'><li class='Nav__item '><a href="../latest/API_Server_(api)/Ispolzovanie/Marshrutizatsiya.html">Маршрутизация</a></li><li class='Nav__item '><a href="../latest/API_Server_(api)/Ispolzovanie/Otvet_servera.html">Ответ сервера</a></li><li class='Nav__item '><a href="../latest/API_Server_(api)/Ispolzovanie/Vypolnit_do....html">Выполнить до...</a></li><li class='Nav__item '><a href="../latest/API_Server_(api)/Ispolzovanie/Vypolnit_posle....html">Выполнить после...</a></li><li class='Nav__item '><a href="../latest/API_Server_(api)/Ispolzovanie/Cron_zadachi.html">Cron-задачи</a></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Хелперы</a><ul class='Nav'><li class='Nav__item '><a href="../latest/API_Server_(api)/Ispolzovanie/KHelpery/Data_i_vremya.html">Дата и время</a></li><li class='Nav__item '><a href="../latest/API_Server_(api)/Ispolzovanie/KHelpery/Logirovanie.html">Логирование</a></li><li class='Nav__item '><a href="../latest/API_Server_(api)/Ispolzovanie/KHelpery/Email.html">Email</a></li><li class='Nav__item '><a href="../latest/API_Server_(api)/Ispolzovanie/KHelpery/SMS.html">SMS</a></li><li class='Nav__item '><a href="../latest/API_Server_(api)/Ispolzovanie/KHelpery/Checker.html">Checker</a></li><li class='Nav__item '><a href="../latest/API_Server_(api)/Ispolzovanie/KHelpery/LogException.html">LogException</a></li></ul></li></ul></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Клиент Metronic (web)</a><ul class='Nav'><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Opisanie.html">Описание</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Logika_zapuska_prilozheniya.html">Логика запуска приложения</a></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Настройка</a><ul class='Nav'><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Nastroyka/Nastroyka.html">Настройка</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Nastroyka/Marshruty.html">Маршруты</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Nastroyka/Sborka_proekta.html">Сборка проекта</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Nastroyka/Sborka_Metronic.html">Сборка Metronic</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Использование</a><ul class='Nav'><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Ispolzovanie/Ssylki.html">Ссылки</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Ispolzovanie/AJAX_zaprosy_k_API.html">AJAX-запросы к API</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Ispolzovanie/JS_peremennye.html">JS-переменные</a></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>JS-хелперы</a><ul class='Nav'><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Ispolzovanie/JS_khelpery/showConfirm.html">showConfirm</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Ispolzovanie/JS_khelpery/clearFields.html">clearFields</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Ispolzovanie/JS_khelpery/clearString.html">clearString</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Ispolzovanie/JS_khelpery/tabs.html">tabs</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Ispolzovanie/JS_khelpery/isRole.html">isRole</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Ispolzovanie/JS_khelpery/decimal.html">decimal</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Ispolzovanie/JS_khelpery/localTime.html">localTime</a></li></ul></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Ispolzovanie/CSS_khelpery.html">CSS-хелперы</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Ispolzovanie/Template7_khelpery.html">Template7-хелперы</a></li><li class='Nav__item '><a href="../latest/Klient_Metronic_(web)/Ispolzovanie/TipsTricks.html">Tips&Tricks</a></li></ul></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Клиент Framework7 (mobile)</a><ul class='Nav'><li class='Nav__item '><a href="../latest/Klient_Framework7_(mobile)/Opisanie.html">Описание</a></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Настройка</a><ul class='Nav'><li class='Nav__item '><a href="../latest/Klient_Framework7_(mobile)/Nastroyka/Nastroyka.html">Настройка</a></li><li class='Nav__item '><a href="../latest/Klient_Framework7_(mobile)/Nastroyka/Sborka_proekta.html">Сборка проекта</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Настройки по умолчанию</a><ul class='Nav'><li class='Nav__item '><a href="../latest/Klient_Framework7_(mobile)/Nastroyki_po_umolchaniyu/lemurro.settings.html">lemurro.settings</a></li><li class='Nav__item '><a href="../latest/Klient_Framework7_(mobile)/Nastroyki_po_umolchaniyu/lemurro.f7settings.html">lemurro.f7settings</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Использование</a><ul class='Nav'><li class='Nav__item '><a href="../latest/Klient_Framework7_(mobile)/Ispolzovanie/AJAX_zaprosy_k_API.html">AJAX-запросы к API</a></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>JS-хелперы</a><ul class='Nav'><li class='Nav__item '><a href="../latest/Klient_Framework7_(mobile)/Ispolzovanie/JS_khelpery/showPopup.html">showPopup</a></li><li class='Nav__item '><a href="../latest/Klient_Framework7_(mobile)/Ispolzovanie/JS_khelpery/showConfirm.html">showConfirm</a></li><li class='Nav__item '><a href="../latest/Klient_Framework7_(mobile)/Ispolzovanie/JS_khelpery/popover.html">popover</a></li></ul></li></ul></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Примеры</a><ul class='Nav'><li class='Nav__item '><a href="../latest/Primery/Spravochnik.html">Справочник</a></li><li class='Nav__item '><a href="../latest/Primery/Razdel.html">Раздел</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Модули</a><ul class='Nav'><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Права доступа</a><ul class='Nav'><li class='Nav__item '><a href="../latest/Moduli/Prava_dostupa/Vvedenie.html">Введение</a></li><li class='Nav__item '><a href="../latest/Moduli/Prava_dostupa/Dobavlenie_novoy.html">Добавление новой</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Загрузка файлов</a><ul class='Nav'><li class='Nav__item '><a href="../latest/Moduli/Zagruzka_faylov/Podklyuchenie.html">Подключение</a></li><li class='Nav__item '><a href="../latest/Moduli/Zagruzka_faylov/Sokhranenie_faylov.html">Сохранение файлов</a></li><li class='Nav__item '><a href="../latest/Moduli/Zagruzka_faylov/Manipulyatsii_s_faylom.html">Манипуляции с файлом</a></li><li class='Nav__item '><a href="../latest/Moduli/Zagruzka_faylov/Proverka_dostupa.html">Проверка доступа</a></li></ul></li></ul></li><li class='Nav__item '><a href="../latest/Biblioteki.html">Библиотеки</a></li></ul></li><li class='Nav__item Nav__item--open has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Руководство по обновлению</a><ul class='Nav'><li class='Nav__item '><a href="../Rukovodstvo_po_obnovleniyu/Obnovlenie_s_1.6_do_1.7.html">Обновление с 1.6 до 1.7</a></li><li class='Nav__item Nav__item--active'><a href="../Rukovodstvo_po_obnovleniyu/Obnovlenie_s_1.5_do_1.6.html">Обновление с 1.5 до 1.6</a></li><li class='Nav__item '><a href="../Rukovodstvo_po_obnovleniyu/Obnovlenie_s_1.4_do_1.5.html">Обновление с 1.4 до 1.5</a></li></ul></li><li class='Nav__item '><a href="../Roadmap.html">Roadmap</a></li></ul>

            <div class="Links">
                                    <hr/>
                                            <a href="https://github.com/Lemurro/lemurro" target="_blank">GitHub Repo</a>
                        <br />
                                                </div>

                                <div class="CodeToggler">
                        <hr/>
                                                    <label class="Checkbox">Show Code Blocks                                <input type="checkbox" class="CodeToggler__button--main" checked="checked"/>
                                <div class="Checkbox__indicator"></div>
                            </label>
                                            </div>
                
                
                        </div>
    </aside>
    <div class="Columns__right Columns__right--full">
        <div class="Columns__right__content">
            <div class="doc_content">
                <article class="Page">

    <div class="Page__header">
        <h1><a href="../Rukovodstvo_po_obnovleniyu/Obnovlenie_s_1.6_do_1.7.html">Руководство по обновлению</a> > <a href="../Rukovodstvo_po_obnovleniyu/Obnovlenie_s_1.5_do_1.6.html">Обновление с 1.5 до 1.6</a></h1>
                    </div>

    <div class="s-content">
        <h1 id="page_API-module">API-module</h1>
<h2 id="page_--">Критически важные изменения</h2>
<ul>
<li>Пользователи: добавлена возможность блокировать пользователей, необходимо добавить в таблицу <code>users</code> новое поле <code>locked</code>:
<pre><code class="language-sql">ALTER TABLE `users`
    ADD `locked` TINYINT(1) NOT NULL DEFAULT '0' AFTER `auth_id`;
</code></pre>
</li>
<li>Пользователи: добавлен блок &quot;Наборы прав доступа&quot;, необходимо добавить новую таблицу <code>access_sets</code>:
<pre><code class="language-sql">-- Наборы прав доступа
CREATE TABLE IF NOT EXISTS `access_sets`
(
    `id`         INT(11)      NOT NULL AUTO_INCREMENT,
    `name`       VARCHAR(255) NOT NULL,
    `roles`      TEXT,
    `created_at` DATETIME,
    `updated_at` DATETIME,
    `deleted_at` DATETIME,
    PRIMARY KEY (`id`)
)
    ENGINE = InnoDB
    DEFAULT CHARSET = utf8
    COLLATE = utf8_unicode_ci;
</code></pre>
</li>
<li>File: добавлена возможность вернуть все загруженные файлы обратно во временное хранилище если в вашем коде случилась ошибка и вы пойдете заново пытаться сохранить файлы из временного хранилища в постоянное, подробнее читайте <a href="../latest/Moduli/Zagruzka_faylov/Sokhranenie_faylov.html">здесь</a>
</li>
</ul>
<h2 id="page_---2">Изменения средней важности</h2>
<ul>
<li>Компоненты <code>Symfony</code> обновлены до версии <code>4.3</code>
</li>
<li>До новых версий обновлены библиотеки:
<ul>
<li>monolog/monolog: v1.24;</li>
<li>nesbot/carbon: v2.18;</li>
<li>pimple/pimple: v3.2;</li>
</ul>
</li>
<li>Новый хелпер <a href="../latest/API_Server_(api)/Ispolzovanie/KHelpery/LogException.html">LogException</a>
</li>
<li>Все не пойманные Exception отлавливаются в ядре и логируются в <code>main.log</code>
</li>
<li>File: при загрузке файла во временное хранилище без аутентификации в качестве суффикса используется <code>uniqid('', true)</code>
</li>
</ul>
<h1 id="page_WEB-module">WEB-module</h1>
<h2 id="page_---2">Критически важные изменения</h2>
<ul>
<li>
<p>Верхнее меню &quot;только для админов&quot; не скрывалось для &quot;простых пользователей&quot;, необходимо в файле <code>/src/html/include/menu_topbar.html</code> в элементе <code>li</code>, там где выпадающее меню с разделами &quot;Справочники&quot; и &quot;Пользователи&quot; добавить классы <code>d-none js-role js-role__admin</code>:</p>
<table>
<thead>
<tr>
<th>Было</th>
<th>Стало</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;li class=&quot;m-nav__item m-topbar__user-profile...&gt;</code><br>    <code>&lt;a href=&quot;#&quot; class=&quot;m-nav__link m-dropdown__toggle&quot;&gt;</code><br>        <code>&lt;span class=&quot;m-topbar__username&quot;&gt;</code><br>            <code>&lt;span class=&quot;text-muted&quot;&gt;</code><br>                <code>&lt;i class=&quot;fas fa-cogs&quot;&gt;&lt;/i&gt;</code></td>
<td><code>&lt;li class=&quot;</code><strong><code>d-none js-role js-role__admin</code></strong> <code>m-nav__item m-topbar__user-profile...&gt;</code><br>    <code>&lt;a href=&quot;#&quot; class=&quot;m-nav__link m-dropdown__toggle&quot;&gt;</code><br>        <code>&lt;span class=&quot;m-topbar__username&quot;&gt;</code><br>            <code>&lt;span class=&quot;text-muted&quot;&gt;</code><br>                <code>&lt;i class=&quot;fas fa-cogs&quot;&gt;&lt;/i&gt;</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Пользователи: добавлена возможность блокировать пользователей, в файл <code>/src/html/pages/users/tpl_item.html</code> вносим следующие изменения:</p>
<ul>
<li>
<p>Кнопку <code>Войти</code> необходимо обернуть в тег <code>{{#unless locked}}...{{/unless}}</code>:</p>
<pre><code class="language-html">{{#unless locked}}
&lt;li class=&quot;m-nav__item js-login-by-user&quot;&gt;
    &lt;a href=&quot;javascript:lemurro.users.loginByUser('{{id}}');&quot; class=&quot;btn m-btn--icon&quot;&gt;
        &lt;span&gt;
            &lt;i class=&quot;fas fa-fw fa-sign-in-alt&quot;&gt;&lt;/i&gt;
            &lt;span&gt;Войти&lt;/span&gt;
        &lt;/span&gt;
    &lt;/a&gt;
&lt;/li&gt;
{{/unless}}
</code></pre>
</li>
<li>
<p>После кнопки <code>Войти</code> добавить блок кнопок <code>Заблокировать \ Разблокировать</code>:</p>
<pre><code class="language-html">&lt;!-- кнопка Войти --&gt;
&lt;li class=&quot;m-nav__item&quot;&gt;
    {{#if locked}}
    &lt;a href=&quot;javascript:lemurro.users.unlock('{{id}}');&quot; class=&quot;btn m-btn--icon&quot;&gt;
        &lt;span&gt;
            &lt;i class=&quot;fas fa-fw fa-unlock&quot;&gt;&lt;/i&gt;
            &lt;span&gt;Разблокировать&lt;/span&gt;
        &lt;/span&gt;
    &lt;/a&gt;
    {{else}}
    &lt;a href=&quot;javascript:lemurro.users.lock('{{id}}');&quot; class=&quot;btn m-btn--icon&quot;&gt;
        &lt;span&gt;
            &lt;i class=&quot;fas fa-fw fa-lock&quot;&gt;&lt;/i&gt;
            &lt;span&gt;Заблокировать&lt;/span&gt;
        &lt;/span&gt;
    &lt;/a&gt;
    {{/if}}
&lt;/li&gt;
&lt;!-- кнопка Удалить --&gt;
</code></pre>
</li>
<li>
<p>А также заглушку кнопки для пользователя с id=1:</p>
<pre><code class="language-html">&lt;!-- кнопка Войти --&gt;
&lt;li class=&quot;m-nav__item&quot;&gt;
    &lt;span class=&quot;btn m-btn--icon disabled&quot;&gt;
        &lt;span&gt;
            &lt;i class=&quot;fas fa-fw fa-lock&quot;&gt;&lt;/i&gt;
            &lt;span&gt;Заблокировать&lt;/span&gt;
        &lt;/span&gt;
    &lt;/span&gt;
&lt;/li&gt;
&lt;!-- кнопка Удалить --&gt;
</code></pre>
</li>
<li>
<p>В столбце с <code>auth_id</code> пользователя:</p>
<table>
<thead>
<tr>
<th>Было</th>
<th>Стало</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;td class=&quot;align-middle text-nowrap&quot;&gt;</code><br>    <code>&lt;span class=&quot;auth_id&quot;&gt;{{auth_id}}&lt;/span&gt;</code><br><code>&lt;/td&gt;</code></td>
<td><code>&lt;td class=&quot;align-middle text-nowrap&quot;&gt;</code><br>    <code>&lt;span class=&quot;auth_id&quot;&gt;{{auth_id}}&lt;/span&gt;</code><br>    <strong><code>{{#if locked}}</code></strong><br>    <strong><code>&lt;i class=&quot;fas fa-fw fa-lock text-warning&quot; title=&quot;Пользователь заблокирован&quot;&gt;&lt;/i&gt;</code></strong><br>    <strong><code>{{/if}}</code></strong><br><code>&lt;/td&gt;</code></td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>
<p>Пользователи: добавлен блок &quot;Наборы прав доступа&quot;</p>
<ul>
<li>Скопируйте новые файлы:
<ul>
<li>
<code>/src/html/pages/users/access_sets.html</code>;</li>
<li>
<code>/src/html/pages/users/tpl_access_sets__item.html</code>;</li>
<li>
<code>/src/html/pages/users/tpl_access_sets__roles.html</code>;</li>
</ul>
</li>
<li>В файле <code>/src/html/pages/users/form.html</code> есть блок выглядящий примерно так:
<pre><code class="language-html">&lt;div class=&quot;form-group m-form__group&quot;&gt;
    &lt;label&gt;Права доступа&lt;/label&gt;
    &lt;div class=&quot;m-checkbox-inline&quot;&gt;
        &lt;label class=&quot;m-checkbox&quot;&gt;
            &lt;input type=&quot;checkbox&quot; class=&quot;js-role js-user-id-1&quot; data-role=&quot;admin&quot;&gt; Администратор
            &lt;span&gt;&lt;/span&gt;
        &lt;/label&gt;
    &lt;/div&gt;
    &lt;table id=&quot;js-user__roles&quot; class=&quot;table table-hover&quot;&gt;
        &lt;tr&gt;
            &lt;td class=&quot;w1 text-nowrap&quot;&gt;
                &lt;strong&gt;Справочники&lt;/strong&gt;
            &lt;/td&gt;
            &lt;td&gt;
                &lt;div class=&quot;m-checkbox-inline&quot;&gt;
                    &lt;label class=&quot;m-checkbox&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; class=&quot;js-role&quot; data-role=&quot;guide&quot; data-access=&quot;read&quot;&gt; Просмотр
                        &lt;span&gt;&lt;/span&gt;
                    &lt;/label&gt;
                    &lt;label class=&quot;m-checkbox&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; class=&quot;js-role&quot; data-role=&quot;guide&quot; data-access=&quot;create-update&quot;&gt; Добавление и изменение
                        &lt;span&gt;&lt;/span&gt;
                    &lt;/label&gt;
                    &lt;label class=&quot;m-checkbox&quot;&gt;
                        &lt;input type=&quot;checkbox&quot; class=&quot;js-role&quot; data-role=&quot;guide&quot; data-access=&quot;delete&quot;&gt; Удаление
                        &lt;span&gt;&lt;/span&gt;
                    &lt;/label&gt;
                &lt;/div&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;!-- Сюда будет загружен список всех ролей из настроек --&gt;
    &lt;/table&gt;
&lt;/div&gt;
</code></pre>
Приводим его вот к такому виду:
<pre><code class="language-html">&lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-8&quot;&gt;
        &lt;label&gt;Права доступа&lt;/label&gt;
        &lt;div class=&quot;m-checkbox-inline m--margin-left-10 m--margin-top-10&quot;&gt;
            &lt;label class=&quot;m-checkbox&quot;&gt;
                &lt;input type=&quot;checkbox&quot; class=&quot;js-role js-user-id-1&quot; data-role=&quot;admin&quot;&gt; Администратор
                &lt;span&gt;&lt;/span&gt;
            &lt;/label&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;col-4&quot;&gt;
        &lt;div id=&quot;js-user__access-sets&quot; class=&quot;hidden&quot;&gt;
            &lt;label&gt;Применить набор прав доступа&lt;/label&gt;
            &lt;select class=&quot;form-control m-input&quot; onchange=&quot;lemurro.accessSets.apply()&quot;&gt;
                &lt;!-- Сюда будет загружен список наборов прав доступа --&gt;
            &lt;/select&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;form-group m-form__group&quot;&gt;
    &lt;table id=&quot;js-user__roles&quot; class=&quot;table table-hover&quot;&gt;
        &lt;!-- Сюда будет загружен список всех ролей из настроек --&gt;
    &lt;/table&gt;
&lt;/div&gt;
</code></pre>
</li>
<li>В файле <code>/src/html/pages/users.html</code> добавьте новую вкладку:
<pre><code class="language-html">&lt;!-- &lt;li&gt;&lt;a href=&quot;#tab-form&quot;&gt;...&lt;/li&gt; --&gt;
&lt;li class=&quot;nav-item&quot;&gt;
    &lt;a href=&quot;#tab-access-sets&quot; class=&quot;nav-link&quot; data-toggle=&quot;tab&quot; data-target=&quot;#tab-access-sets&quot;&gt;
        &lt;i class=&quot;fas fa-box-open&quot;&gt;&lt;/i&gt; Наборы прав доступа
    &lt;/a&gt;
&lt;/li&gt;

&lt;!-- &lt;div id=&quot;tab-form&quot;&gt;...&lt;/div&gt; --&gt;
&lt;div class=&quot;tab-pane&quot; id=&quot;tab-access-sets&quot; role=&quot;tabpanel&quot;&gt;
    &lt;!-- include &quot;users/access_sets.html&quot; --&gt;
&lt;/div&gt;
</code></pre>
</li>
<li>В файле <code>/src/js/0-app/100-config.js</code> в объект <code>app.config.userRoles.list</code> добавьте новый элемент:
<pre><code class="language-js">{
    name  : 'guide',
    title : 'Справочники',
    access: [
        'read',
        'create-update',
        'delete'
    ]
}
</code></pre>
</li>
</ul>
</li>
</ul>
<h2 id="page_---2">Изменения средней важности</h2>
<ul>
<li>До новых версий обновлены библиотеки:
<ul>
<li>@fortawesome/fontawesome-free: v5.8.2;</li>
</ul>
</li>
</ul>
    </div>

        <nav>
        <ul class="Pager">
            <li class=Pager--prev><a href="../Rukovodstvo_po_obnovleniyu/Obnovlenie_s_1.6_do_1.7.html">Previous</a></li>            <li class=Pager--next><a href="../Rukovodstvo_po_obnovleniyu/Obnovlenie_s_1.4_do_1.5.html">Next</a></li>        </ul>
    </nav>
    </article>

            </div>
        </div>
    </div>
</div>

    
    <!-- JS -->
    <script src="../themes/daux/js/jquery-1.11.3.min.js"></script><script src="../themes/daux/js/highlight.pack.js"></script><script src="../themes/daux/js/daux.js"></script>
            <script>
            
            window.searchLanguage = "";
            window.searchTranslation = {"Search_one_result":"1 result","Search_results":"!count results","Search_no_results":"Nothing found","Search_common_words_ignored":"Common words are largely ignored","Search_too_short":"Search too short","Search_one_character_or_more":"Should be one character or more","Search_should_be_x_or_more":"Should be !min characters or more","Link_previous":"Previous","Link_next":"Next"};
        </script>

        <!-- Tipue Search -->
        <script type="text/javascript" src="../tipuesearch/tipuesearch.js"></script>

        <script>
            window.onunload = function(){}; // force $(document).ready to be called on back/forward navigation in firefox
            $(function() {
                tipuesearch({
                    'base_url': '../'
                });
            });
        </script>
    
</body>
</html>
